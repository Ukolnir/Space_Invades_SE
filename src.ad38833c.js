parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"wnfG":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function e(s,i,o,n,a){t(this,e),this.img=s,this.x=i,this.y=o,this.w=n,this.h=a};exports.default=e;
},{}],"UFsy":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function i(e,s,n,h,r,u,o,a){t(this,i),this.x=e,this.y=s,this.vx=n,this.vy=h,this.w=r.w,this.h=r.h,this.sprite=r,this.cnvsB=u,this.isAlive=!0,this.cnvsL=o,this.cnvsR=a}return e(i,[{key:"update",value:function(t){this.bottom()<this.cnvsB&&this.y>0&&this.left()>this.cnvsL&&this.right()<this.cnvsR?(this.y+=this.vy,this.x+=this.vx):this.isAlive=!1}},{key:"draw",value:function(t){var i=this.sprite;t.drawImage(i.img,i.x,i.y,i.w,i.h,this.x,this.y,i.w,i.h)}},{key:"left",value:function(){return this.x}},{key:"right",value:function(){return this.x+this.w}},{key:"top",value:function(){return this.y}},{key:"bottom",value:function(){return this.y+this.h}}]),i}();exports.default=s;
},{}],"Ubyz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./bullet"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function e(t,s){for(var i=0;i<s.length;i++){var e=s[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function h(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}var n=function(){function s(t,e,h,n,u,r){i(this,s),this.x=t,this.y=e,this._sprites=h,this._bulSprites=n,this.w=h[0].w,this.h=h[0].h,this.cnvsL=u,this.cnvsR=r,this.hp=2,this.mode=0}return h(s,[{key:"isAlive",value:function(){return this.hp>0}},{key:"left",value:function(){return this.x}},{key:"right",value:function(){return this.x+this.w}},{key:"top",value:function(){return this.y}},{key:"bottom",value:function(){return this.y+this.h}},{key:"center",value:function(){return this.x+this.w/2}},{key:"intersects",value:function(t){return this.y<t.bottom()&&this.x<t.right()&&t.x<this.right()&&t.y<this.bottom()&&(this.hp-=1,void 0===t.hp?t.isAlive=!1:t.hp=3!=t.type?0:t.hp,!0)}},{key:"trimMode",value:function(t){this.mode=t<0?Math.max(this.mode+t,0):Math.min(this.mode+t,5)}},{key:"shoot",value:function(s){var i=this.left()+5,e=this.right()-5-this._bulSprites[2].w;switch(this.mode){case 0:return[new t.default(this.center()-this._bulSprites[2].w/2,this.y,0,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR)];case 1:return[new t.default(i,this.y,0,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,0,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR)];case 2:return[new t.default(this.center()-this._bulSprites[2].w/2,this.y,0,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(i,this.y,-1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR)];case 3:return[new t.default(this.center()-this._bulSprites[3].w/2,this.y,0,-8,this._bulSprites[3],s,this.cnvsL,this.cnvsR),new t.default(i,this.y,-1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR)];case 4:return[new t.default(this.center()-this._bulSprites[3].w/2,this.y,0,-8,this._bulSprites[3],s,this.cnvsL,this.cnvsR),new t.default(i,this.y,-1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(i,this.y,-2,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,2,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR)];case 5:return[new t.default(this.center()-this._bulSprites[3].w/2,this.y,0,-8,this._bulSprites[3],s,this.cnvsL,this.cnvsR),new t.default(i,this.y,-1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,1,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(i,this.y,-2,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,2,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(i,this.y,-3,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR),new t.default(e,this.y,3,-8,this._bulSprites[2],s,this.cnvsL,this.cnvsR)]}}},{key:"move",value:function(t){t<0&&this.x+t<=this.cnvsL||t>0&&this.right()+t>=this.cnvsR||(this.x+=t)}},{key:"draw",value:function(t,s){var i=Math.ceil(s/500)%4,e=3===i?this._sprites[1]:this._sprites[i];t.drawImage(e.img,e.x,e.y,e.w,e.h,this.x,this.y,e.w,e.h)}}]),s}();exports.default=n;
},{"./bullet":"UFsy"}],"HzNj":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function i(e,s,h,n,r,a,u,o,c,v,l){t(this,i),this.x=e,this.y=s,this.type=a,this.vx=h,this.vy=n,this._sprites=u,this.w=Math.max.apply(Math,u.map(function(t){return t.w})),this.h=Math.max.apply(Math,u.map(function(t){return t.h})),this.timeMark=o,this.timeLastFire=0,this.hp=r,this.difHP=r,this.cnvsL=c,this.cnvsR=v,this.cnvsH=l}return e(i,[{key:"isAlive",value:function(){return this.hp>0}},{key:"left",value:function(){return this.x}},{key:"top",value:function(){return this.y}},{key:"right",value:function(){return this.x+this.w}},{key:"bottom",value:function(){return this.y+this.h}},{key:"alienFire",value:function(t){return Math.ceil(t/100)%60===this.timeMark&&t-this.timeLastFire>2e3&&(this.timeLastFire=t,!0)}},{key:"isInjured",value:function(){return this.difHP>this.hp&&(this.difHP=this.hp,!0)}},{key:"intersects",value:function(t){return this.y<t.bottom()&&this.x<t.right()&&t.x<this.right()&&t.y<this.bottom()&&(this.hp-=1,void 0===t.hp?t.isAlive=!1:t.hp-=1,!0)}},{key:"center",value:function(){return this.x+this.w/2}},{key:"move",value:function(){(this.x<=this.cnvsL||this.right()>=this.cnvsR)&&(this.vx=-this.vx),this.bottom()>=this.cnvsH&&3!=this.type?this.hp=0:(this.x+=this.vx,this.y+=this.vy)}},{key:"draw",value:function(t,i){var e,s=Math.ceil(i/500)%4;switch(this.type){case 0:case 3:e=3===s?this._sprites[1]:this._sprites[s];break;case 1:e=this._sprites[s%2];break;case 2:var h=this.vx>0?3:0;e=3===s?this._sprites[h+1]:this._sprites[h+s]}t.drawImage(e.img,e.x,e.y,e.w,e.h,this.x,this.y,e.w,e.h)}}]),i}();exports.default=s;
},{}],"kHH6":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){function n(){var t=this;e(this,n),this.down={},this.pressed={},document.addEventListener("keydown",function(e){t.down[e.keyCode]=!0}),document.addEventListener("keyup",function(e){delete t.down[e.keyCode],delete t.pressed[e.keyCode]})}return t(n,[{key:"isDown",value:function(e){return this.down[e]}},{key:"isPressed",value:function(e){return!this.pressed[e]&&(!!this.down[e]&&(this.pressed[e]=!0))}}]),n}();exports.default=o;
},{}],"j7Xl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./alien")),e=s(require("./bullet"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}var a=function(){function s(t,e,n,h,a,l,r,o,c,v){i(this,s),this.typeLevel=t,this.countAlien=e,this.alienHP=n,this.movementSpeedVX=h,this.movementSpeedVY=a,this.alienSprites=l,this.bulletSprite=r,this.mark=0,this.cnvsL=o,this.cnvsR=c,this.cnvsH=v,this.isEnd=!1,this.isCDbyAlien="falling"==t||"snake"==t||"boss"==t,this.allAliens=[],this.aliens=[],this.idx=0,this.lastTick=0,this.tempYforBoss=0,this.attackBoss=!1,this.tempSpeedVXforBoss=0}return h(s,[{key:"getMark",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:17;return this.mark=(this.mark+t)%60,this.mark}},{key:"randomX",value:function(){var t=this.cnvsL+Math.random()*(this.cnvsR-50-this.cnvsL);return Math.floor(t)}},{key:"constructorLevel",value:function(){var e=0;switch(this.typeLevel){case"snake":e=2;case"formation":for(var s=0;s<this.alienSprites.length;++s)for(var i=0;i<this.countAlien;++i)for(var n=this.cnvsL+40,h=40+50*(s*this.countAlien+i);n+60<this.cnvsR;)this.aliens.push(new t.default(n,h,this.movementSpeedVX,this.movementSpeedVY,this.alienHP,e,this.alienSprites[s],this.getMark(),this.cnvsL,this.cnvsR,this.cnvsH)),n+=50;break;case"falling":for(var a=0;a<this.alienSprites.length;++a)for(var l=0;l<this.countAlien;++l){var r=this.randomX();this.allAliens.push(new t.default(r,5,this.movementSpeedVX,this.movementSpeedVY,this.alienHP,1,this.alienSprites[a],this.getMark(),this.cnvsL,this.cnvsR,this.cnvsH))}var o=this.randomX()%10;this.aliens=this.allAliens.slice(this.idx,this.idx+o),this.idx+=o;break;case"boss":var c=(this.cnvsL+this.cnvsR)/2;this.tempYforBoss=this.cnvsH/4,this.aliens.push(new t.default(c,this.tempYforBoss,this.movementSpeedVX,0,this.alienHP,3,this.alienSprites[0],this.getMark(30),this.cnvsL,this.cnvsR,this.cnvsH))}}},{key:"shoot",value:function(t){var s=this,i=[];switch(this.typeLevel){case"formation":this.aliens.filter(function(e){return e.alienFire(t)}).forEach(function(t){var n=t.center(),h=t.bottom();i.push(new e.default(n-s.bulletSprite.w/2,h,0,8,s.bulletSprite,s.cnvsH,s.cnvsL,s.cnvsR))});break;case"falling":break;case"snake":this.aliens.filter(function(t){return t.isInjured()}).forEach(function(t){var n=t.center(),h=t.bottom();i.push(new e.default(n-s.bulletSprite.w/2,h,0,8,s.bulletSprite,s.cnvsH,s.cnvsL,s.cnvsR))});break;case"boss":if(0==this.aliens.length)break;var n=this.aliens[0],h=n.left(),a=n.right()-this.bulletSprite.w,l=n.bottom();(n.alienFire(t)||n.isInjured())&&(i.push(new e.default(h,l,0,8,this.bulletSprite,this.cnvsH,this.cnvsL,this.cnvsR)),i.push(new e.default(a,l,0,8,this.bulletSprite,this.cnvsH,this.cnvsL,this.cnvsR)))}return i}},{key:"getAlien",value:function(){this.aliens=this.aliens.filter(function(t){return t.isAlive()}),"falling"==this.typeLevel?this.isEnd=0==this.aliens.length&&this.idx>=this.allAliens.length:this.isEnd=0==this.aliens.length}},{key:"moveAlien",value:function(){this.typeLevel,this.aliens.forEach(function(t){return t.move()})}},{key:"update",value:function(t,e,s){switch(this.typeLevel){case"formation":break;case"falling":if(this.idx<this.allAliens.length&&t-this.lastTick>1e3){var i=this.randomX()%6+1,n=Math.min(this.allAliens.length,i+this.idx);this.aliens=this.aliens.concat(this.allAliens.slice(this.idx,n)),this.idx+=i,this.lastTick=t}break;case"boss":var h=this.aliens[0];e<=h.center()&&h.center()<s&&h.y==this.tempYforBoss?(this.tempSpeedVXforBoss=h.vx,this.aliens[0].vx=0,this.aliens[0].vy=this.movementSpeedVY,this.attackBoss=!0):h.bottom()>=this.cnvsH?(this.aliens[0].vx=0,this.aliens[0].vy=-this.movementSpeedVY):h.top()<this.tempYforBoss&&this.attackBoss&&(this.aliens[0].y=this.tempYforBoss,this.aliens[0].vx=this.tempSpeedVXforBoss,this.aliens[0].vy=0,this.attackBoss=!1)}this.moveAlien()}},{key:"drawAlien",value:function(t,e){this.aliens.forEach(function(s){return s.draw(t,e)})}}]),s}();exports.default=a;
},{"./alien":"HzNj","./bullet":"UFsy"}],"k33m":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function i(e,s,n,r){t(this,i),this.x=e,this.y=s,this.w=r.w,this.h=r.h,this.vy=n,this.sprite=r,this.isAlive=!0}return e(i,[{key:"left",value:function(){return this.x}},{key:"right",value:function(){return this.x+this.w}},{key:"top",value:function(){return this.y}},{key:"bottom",value:function(){return this.y+this.h}},{key:"move",value:function(t){this.bottom()>=t?this.isAlive=!1:this.y+=this.vy}},{key:"draw",value:function(t){t.drawImage(this.sprite.img,this.sprite.x,this.sprite.y,this.w,this.h,this.x,this.y,this.w,this.h)}},{key:"intersects",value:function(t){return this.y<t.bottom()&&this.x<t.right()&&t.x<this.right()&&t.y<this.bottom()&&(this.isAlive=!1,!0)}}]),i}();exports.default=s;
},{}],"INzZ":[function(require,module,exports) {
module.exports="/space-invaders-SE/ship.9b4133aa.png";
},{}],"cHXj":[function(require,module,exports) {
module.exports="/space-invaders-SE/aliens.36b4d8d4.png";
},{}],"YIy0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=void 0;var e={levels:[{typeLevel:"formation",typeAliens:[0],countAlien:2,movementSpeedVX:1,movementSpeedVY:0,alienHP:1,typeBullet:0},{typeLevel:"formation",typeAliens:[0,1],countAlien:2,movementSpeedVX:1,movementSpeedVY:0,alienHP:1,typeBullet:0},{typeLevel:"falling",typeAliens:[5],countAlien:60,movementSpeedVX:0,movementSpeedVY:8,alienHP:3,typeBullet:0},{typeLevel:"snake",typeAliens:[6],countAlien:2,movementSpeedVX:2,movementSpeedVY:.2,alienHP:2,typeBullet:0},{typeLevel:"formation",typeAliens:[0,1,2],countAlien:2,movementSpeedVX:1,movementSpeedVY:0,alienHP:1,typeBullet:0},{typeLevel:"falling",typeAliens:[5,3],countAlien:40,movementSpeedVX:0,movementSpeedVY:9,alienHP:3,typeBullet:0},{typeLevel:"snake",typeAliens:[6,7],countAlien:3,movementSpeedVX:2.3,movementSpeedVY:.2,alienHP:2,typeBullet:0},{typeLevel:"formation",typeAliens:[0,1,2],countAlien:3,movementSpeedVX:2,movementSpeedVY:0,alienHP:1,typeBullet:0},{typeLevel:"falling",typeAliens:[5,3,4],countAlien:30,movementSpeedVX:0,movementSpeedVY:10,alienHP:3,typeBullet:0},{typeLevel:"boss",typeAliens:[8],countAlien:1,movementSpeedVX:3,movementSpeedVY:15,alienHP:35,typeBullet:1}]};exports.config=e;
},{}],"HPsM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.preload=b,exports.initGame=x,exports.update=L,exports.draw=T;var e,t,i=d(require("./sprite")),n=d(require("./ship")),l=d(require("./bullet")),r=d(require("./alien")),s=d(require("./input-handler")),u=d(require("./level")),o=d(require("./gift")),f=d(require("../assets/ship.png")),a=d(require("../assets/aliens.png")),h=require("./conf");function d(e){return e&&e.__esModule?e:{default:e}}var w={aliens:[],ship:[],bulletsShip:[],bulletsAliens:[],gift:null},c={startRun:null,cnvsBorder:450,bullets:[],bulletsAlien:[],aliens:[],ship:null,levels:[],nextLevel:!1,numberLevel:0,startGame:!0,gameOver:!1,playerWin:!1,score:0,scoreLastBonus:0,bonus:[],catchedBonus:0};function p(e){if(13===e.keyCode){if(c.startGame)return c.startGame=!1,void m();if(c.nextLevel)return c.numberLevel+=1,c.nextLevel=!1,void m();(c.playerWin||c.gameOver)&&window.location.reload()}}var v=0,g=new s.default;function b(n){(t=new Image).addEventListener("load",function(){w.bulletsAliens=[new i.default(t,258,20,6,16),new i.default(t,279,19,11,19)],w.aliens=[[new i.default(t,2,2,47,39),new i.default(t,51,2,47,39),new i.default(t,99,2,44,39)],[new i.default(t,1,48,47,45),new i.default(t,50,48,47,45),new i.default(t,98,48,44,45)],[new i.default(t,156,146,47,45),new i.default(t,204,146,47,45),new i.default(t,256,146,44,45)],[new i.default(t,152,11,47,33),new i.default(t,204,11,44,33)],[new i.default(t,152,53,47,33),new i.default(t,204,53,44,33)],[new i.default(t,152,93,47,33),new i.default(t,204,93,44,33)],[new i.default(t,10,101,37,39),new i.default(t,58,101,37,39),new i.default(t,12,193,37,43),new i.default(t,1,148,38,40),new i.default(t,53,148,38,40),new i.default(t,5,241,38,43)],[new i.default(t,106,101,37,39),new i.default(t,61,195,37,39),new i.default(t,109,195,37,43),new i.default(t,97,147,38,40),new i.default(t,56,243,38,40),new i.default(t,102,243,38,43)],[new i.default(t,306,99,92,92),new i.default(t,306,191,92,92),new i.default(t,306,4,92,92)]]}),t.src=a.default,(e=new Image).addEventListener("load",function(){w.ship=[new i.default(e,2,6,55,96),new i.default(e,59,6,55,96),new i.default(e,117,6,55,96)],w.bulletsShip=[new i.default(e,178,3,5,13),new i.default(e,178,18,17,14),new i.default(e,179,35,10,17),new i.default(e,178,53,23,24)],w.gift=new i.default(e,202,46,31,34),n()}),e.src=f.default}function x(e,t){c.cnvsBorder=((t.width+100)/3+260)/2,h.config.levels.forEach(function(e){var i=[];e.typeAliens.forEach(function(e){return i.push(w.aliens[e])}),c.levels.push(new u.default(e.typeLevel,e.countAlien,e.alienHP,e.movementSpeedVX,e.movementSpeedVY,i,w.bulletsAliens[e.typeBullet],t.width/2-c.cnvsBorder,t.width/2+c.cnvsBorder,t.height))}),c.ship=new n.default(t.width/2-c.cnvsBorder+10,t.height-200,w.ship,w.bulletsShip,t.width/2-c.cnvsBorder,t.width/2+c.cnvsBorder),c.startRun=e,window.addEventListener("keydown",p,!0)}function m(){c.levels[c.numberLevel].constructorLevel(),c.ship.hp+=1,c.bullets=[],c.bulletsAlien=[],c.bonus=[],c.startRun()}function F(e,t){var i=e+Math.random()*(t-50-e);return Math.floor(i)}function L(e,t,i){g.isDown(37)&&c.ship.move(-4),g.isDown(39)&&c.ship.move(4),g.isPressed(32)&&(c.bullets=c.bullets.concat(c.ship.shoot(i.height))),c.scoreLastBonus!=Math.floor(c.score/70)&&(c.bonus.push(new o.default(F(i.width/2-c.cnvsBorder,i.width/2+c.cnvsBorder),40,6,w.gift)),c.scoreLastBonus=Math.floor(c.score/70)),c.bonus.forEach(function(e){e.intersects(c.ship)&&(c.catchedBonus+=1,c.catchedBonus%3==0&&c.ship.trimMode(1),c.catchedBonus%7==0&&(c.ship.hp+=1)),e.move(i.height)});var n=c.levels[c.numberLevel];c.bulletsAlien=c.bulletsAlien.concat(n.shoot(e)),c.bullets.forEach(function(t){t.update(e),n.aliens.forEach(function(e){e.intersects(t)&&(c.score+=5)})}),n.getAlien(),n.isCDbyAlien&&n.aliens.forEach(function(e){c.ship.intersects(e)&&c.ship.trimMode(-2)}),c.bulletsAlien.forEach(function(t){t.update(e),c.ship.intersects(t)&&c.ship.trimMode(-1)}),c.ship.isAlive()||(c.gameOver=!0,t()),n.isEnd&&(c.numberLevel+1==c.levels.length?c.playerWin=!0:(c.nextLevel=!0,t())),n.update(e,c.ship.left(),c.ship.right()),c.bulletsAlien=c.bulletsAlien.filter(function(e){return e.isAlive}),c.bullets=c.bullets.filter(function(e){return e.isAlive}),c.bonus=c.bonus.filter(function(e){return e.isAlive})}function A(e){var t=e.getContext("2d");t.font="64px serif",t.fillStyle="#FFFFFF",t.fillText("Level "+(c.numberLevel+2),e.width/2-110,e.height/2-150),t.font="48px serif",t.fillText("Press Enter for start",e.width/2-185,e.height/2)}function B(e){var t=e.getContext("2d");t.font="64px serif",t.fillStyle="#FFFFFF",t.fillText("Congratulation!",e.width/2-200,e.height/2-150),t.fillText("You won",e.width/2-120,e.height/2-70),t.font="48px serif",t.fillText("Your score: "+c.score,e.width/2-155,e.height/2-10),t.fillText("Press Enter for repeat",e.width/2-200,e.height/2+80)}function y(e){var t=e.getContext("2d");t.font="64px serif",t.fillStyle="#FFFFFF",t.fillText("You died",e.width/2-120,e.height/2-150),t.font="48px serif",t.fillText("Your score: "+c.score,e.width/2-155,e.height/2-90),t.fillText("Level: "+(c.numberLevel+1),e.width/2-80,e.height/2-30),t.fillText("Press Enter for repeat",e.width/2-200,e.height/2+60)}function T(e,t){var i=e.getContext("2d");if(i.clearRect(0,0,e.width,e.height),c.nextLevel)A(e);else if(c.playerWin)B(e);else if(c.gameOver)y(e);else{var n=e.width/2-c.cnvsBorder,l=e.width/2+c.cnvsBorder;i.beginPath(),i.strokeStyle="#FFFFFF",i.moveTo(n,0),i.lineTo(n,e.height),i.moveTo(l,0),i.lineTo(l,e.height),i.closePath(),i.stroke(),i.font="48px serif",i.fillStyle="#FFFFFF",i.fillText("Level "+(c.numberLevel+1),n/2-65,150),i.font="40px serif",i.fillText("Score "+c.score,n/2-65,200),i.drawImage(w.gift.img,w.gift.x,w.gift.y,w.gift.w,w.gift.h,(l+e.width)/2-w.gift.w-10,e.height-3*w.ship[0].h,w.gift.w,w.gift.h),i.fillText(c.catchedBonus,(l+e.width)/2+w.gift.w-10,e.height-2.65*w.ship[0].h),i.drawImage(w.ship[0].img,w.ship[0].x,w.ship[0].y,w.ship[0].w,w.ship[0].h,(l+e.width)/2-w.ship[0].w+1,e.height-2*w.ship[0].h,w.ship[0].w,w.ship[0].h),i.fillText(c.ship.hp,(l+e.width)/2+w.gift.w-10,e.height-1.3*w.ship[0].h),c.levels[c.numberLevel].drawAlien(i,t),c.bonus.forEach(function(e){return e.draw(i)}),c.ship.draw(i,t),c.bullets.forEach(function(e){return e.draw(i)}),c.bulletsAlien.forEach(function(e){return e.draw(i)})}}
},{"./sprite":"wnfG","./ship":"Ubyz","./bullet":"UFsy","./alien":"HzNj","./input-handler":"kHH6","./level":"j7Xl","./gift":"k33m","../assets/ship.png":"INzZ","../assets/aliens.png":"cHXj","./conf":"YIy0"}],"H99C":[function(require,module,exports) {
"use strict";var i=require("./game"),t=document.getElementById("cnvs");t.width=window.innerWidth,t.height=window.innerHeight;var e,n,r,o=15;function a(d){r=window.requestAnimationFrame(a);var l=0;if(d>e+o){var h=d-e;l=Math.floor(h/o)}for(var w=0;w<l;w++)e+=o,(0,i.update)(e,f,t);(0,i.draw)(t,d),n=d}function f(){window.cancelAnimationFrame(r)}function d(){e=performance.now(),n=e,r=null,a()}function l(i){i.font="64px serif",i.fillStyle="#FFFFFF",i.fillText("Space Invaders",t.width/2-195,t.height/2-170),i.font="48px serif",i.fillText("(Special Edition)",t.width/2-150,t.height/2-110),i.fillText("Press Enter for start",t.width/2-185,t.height/2)}function h(){l(t.getContext("2d")),(0,i.initGame)(d,t)}(0,i.preload)(h);
},{"./game":"HPsM"}]},{},["H99C"], null)
//# sourceMappingURL=/space-invaders-SE/src.ad38833c.js.map